System.register([],function(e,t){"use strict";var i,n,s,o,d;t&&t.id;return{setters:[],execute:function(){i=function(){function e(){this.columnDefinitions=[{actions:[],classList:"",displayName:"foo",id:1,isEditable:!0,isVisible:!0,propertyName:"foo"}],this.rows=[{foo:"bar",id:1}],this.gridOptions={editingEnabled:!0,id:null,parentElement:null,sortingEnabled:!0,theadClassList:""},this.gridState={columnDefinitionSortedOn:this.columnDefinitions[0],currentSortDirection:d.None,focusedColumnDefinition:null,focusedRow:null,id:null,mousedOverColumnDefinition:null,mousedOverRow:null}}return e.prototype.buildGrid=function(e){this.gridState.id=this.gridState.id||this.gridOptions.id||Math.floor(1e4*Math.random()).toString(),this.parentElement=this.parentElement||e||document.body;var t=document.getElementById("grid-table-"+this.gridState.id);t&&this.parentElement.removeChild(t);var i=document.createElement("table");i.id="grid-table-"+this.gridState.id;var n=this.buildThead();i.appendChild(n);var s=this.buildTbody();i.appendChild(s),this.parentElement.appendChild(i)},e.prototype.buildTbody=function(){var e=this,t=document.createElement("tbody");return this.rows.map(function(t){var i=document.createElement("tr");return e.gridState.focusedRow===t&&i.classList.add("focus"),e.gridState.mousedOverRow===t&&i.classList.add("mouseover"),t.classList&&i.classList.add(t.classList),e.columnDefinitions.filter(function(e){return e.isVisible}).map(function(i){var n=document.createElement("td");if(e.gridState.focusedRow===t&&n.classList.add("focus"),e.gridState.mousedOverRow===t&&n.classList.add("mouseover"),e.gridOptions.editingEnabled&&e.gridState.focusedRow===t&&e.gridState.focusedColumnDefinition===i){var s=document.createElement("input");s.value=t[i.propertyName],s.addEventListener("blur",e.cellBlurred.bind(e,i,t)),n.appendChild(s)}else n.innerHTML=t[i.propertyName],n.addEventListener("click",e.cellClicked.bind(e,i,t)),n.addEventListener("dblclick",e.cellDoubleClicked.bind(e,i,t));return n.addEventListener("mouseover",e.cellMousedOver.bind(e,i,t)),n.addEventListener("mouseout",e.cellMousedOut.bind(e,i,t)),n}).forEach(function(e){return i.appendChild(e)}),i}).forEach(function(e){return t.appendChild(e)}),t},e.prototype.updateCellClasses=function(){for(var e=document.getElementById("grid-table-"+this.gridState.id).getElementsByTagName("tbody")[0].getElementsByTagName("tr"),t=0;t<e.length;t++)for(var i=e[t].getElementsByTagName("td"),n=0;n<i.length;n++)this.rows[t]===this.gridState.focusedRow&&this.columnDefinitions[n]===this.gridState.focusedColumnDefinition?i[n].classList.contains("focus")||i[n].classList.add("focus"):i[n].classList.contains("focus")&&i[n].classList.remove("focus"),this.rows[t]===this.gridState.mousedOverRow&&this.columnDefinitions[n]===this.gridState.mousedOverColumnDefinition?i[n].classList.contains("mouseover")||i[n].classList.add("mouseover"):i[n].classList.contains("mouseover")&&i[n].classList.remove("mouseover")},e.prototype.cellBlurred=function(e,t){this.gridState.focusedColumnDefinition=null,this.gridState.focusedRow=null,this.updateCellClasses()},e.prototype.cellClicked=function(e,t){this.gridState.focusedColumnDefinition=e,this.gridState.focusedRow=t,this.updateCellClasses()},e.prototype.cellDoubleClicked=function(e,t){this.gridState.focusedColumnDefinition=e,this.gridState.focusedRow=t,this.updateCellClasses()},e.prototype.cellMousedOver=function(e,t){this.gridState.mousedOverColumnDefinition=e,this.gridState.mousedOverRow=t,this.updateCellClasses()},e.prototype.cellMousedOut=function(e,t){this.gridState.mousedOverColumnDefinition=null,this.gridState.mousedOverRow=null,this.updateCellClasses()},e.prototype.headerCellMousedOut=function(e){this.gridState.mousedOverColumnDefinition=null,this.updateCellClasses()},e.prototype.headerCellClicked=function(e){this.gridState.focusedColumnDefinition=e,this.updateCellClasses()},e.prototype.headerCellMousedOver=function(e){this.gridState.mousedOverColumnDefinition=e,this.updateCellClasses()},e.prototype.buildThead=function(){var e=this,t=document.createElement("thead"),i=document.createElement("tr");return this.gridOptions.theadClassList&&i.classList.add(this.gridOptions.theadClassList),this.columnDefinitions.filter(function(e){return e.isVisible}).map(function(i){var n=document.createElement("th");if(e.gridState.focusedColumnDefinition===i&&n.classList.add("focus"),e.gridState.mousedOverColumnDefinition===i&&n.classList.add("mouseover"),i.classList&&t.classList.add(i.classList),n.innerHTML=i.displayName,e.gridOptions.sortingEnabled&&e.gridState.columnDefinitionSortedOn===i){var s=document.createElement("i");switch(e.gridState.currentSortDirection){case d.Ascending:s.innerHTML="&#9650;",n.appendChild(s);break;case d.Descending:s.innerHTML="&#9660;",n.insertBefore(s,n.firstChild)}}return n.addEventListener("click",e.headerCellClicked.bind(e,i)),n.addEventListener("mouseover",e.headerCellMousedOver.bind(e,i)),n.addEventListener("mouseout",e.headerCellMousedOut.bind(e,i)),n}).forEach(function(e){return i.appendChild(e)}),t.appendChild(i),t},e}(),e("Grid",i),n=function(){function e(){}return e}(),s=function(){function e(){}return e}(),o=function(){function e(){}return e}(),function(e){e[e.None=0]="None",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(d||(d={}))}}});